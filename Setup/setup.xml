<?xml version="1.0" encoding="utf-8"?>
<application>
    <name>FundProject</name>
    <version>1.337</version>
    <order>77</order>
    <status>enabled</status>
	<depends>
        <application>Addressbook</application>
	</depends>
	<tables>
		<table>
			<name>fp_promotion_area</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
					<name>key</name>
					<type>text</type>
					<length>6</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>name</name>
					<type>text</type>
					<length>32</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
	                <name>is_default</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
                <index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fp_department</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
	                <name>name</name>
	                <type>text</type>
					<length>64</length>
					<notnull>true</notnull>
	            </field>
				<field>
	                <name>is_default</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
                <index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fp_project_role</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
					<name>key</name>
					<type>text</type>
					<length>16</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
	                <name>name</name>
	                <type>text</type>
					<length>64</length>
					<notnull>true</notnull>
	            </field>
				<field>
	                <name>is_default</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
                <index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fp_funds_kind</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
	                <name>name</name>
	                <type>text</type>
					<length>64</length>
					<notnull>true</notnull>
	            </field>
				<field>
	                <name>is_default</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
                <index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fp_funds_category</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
	                <name>name</name>
	                <type>text</type>
					<length>64</length>
					<notnull>true</notnull>
	            </field>
				<field>
	                <name>is_default</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
                <index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fp_project</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>project_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
				<field>
                    <name>department_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
				<field>
                    <name>leading_department_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
				<field>
                    <name>correspondent_user_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
				<field>
                    <name>approval_user_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
                <field>
                    <name>promotion_area_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
					<name>project_nr</name>
					<type>text</type>
					<length>16</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>short_name</name>
					<type>text</type>
					<length>32</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>name</name>
					<type>text</type>
					<length>512</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>description</name>
					<type>text</type>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>state</name>
					<type>enum</type>
					<value>PROJECT</value>
					<value>PROJECTFINISHED</value>
					<value>CLAIM</value>
					<value>CLAIMFINISHED</value>
					<value>QUERY</value>
					<value>QUERYFINISHED</value>
                    <notnull>true</notnull>
				</field>
				
				<field>
					<name>agenda_topic</name>
					<type>text</type>
					<length>512</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
	                <name>approval_buha</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
                    <name>claim_entry_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>buha_finish_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>project_finish_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>pr_contact_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>pr_opening_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>pr_other_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>decision_committee</name>
                    <type>enum</type>
					<value>EXECUTIVE</value>
					<value>MANAGEMENT</value>
					<value>ADVISER</value>
					<value>CIRCULATION</value>
					<value>VS</value>
					<value>NOVALUE</value>
					<default>EXECUTIVE</default>
					<notnull>true</notnull>
                </field>
				<field>
                    <name>decision_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
                <field>
                    <name>payment_svn_rate</name>
                    <type>integer</type>
					<length>4</length>
					<default>80</default>
                    <notnull>false</notnull>
                </field>
				<field>
                    <name>query_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>monthly_list</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>aquisition_state</name>
                    <type>enum</type>
					<value>AQUIRED</value>
					<value>PARTLYAQUIRED</value>
					<value>BENEFIT</value>
					<default>AQUIRED</default>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>proposal_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>payout_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>confirmed_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>rest_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
                <field>
                    <name>created_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>
                <field>
                    <name>creation_time</name>
                    <type>datetime</type>
                </field> 
                <field>
                    <name>last_modified_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>
                <field>
                    <name>last_modified_time</name>
                    <type>datetime</type>
                </field>
                <field>
                    <name>is_deleted</name>
                    <type>boolean</type>
                    <default>false</default>
                </field>
                <field>
                    <name>deleted_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>            
                <field>
                    <name>deleted_time</name>
                    <type>datetime</type>
                </field>
			 	<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>

		</table>
		<table>
			<name>fp_project_contact</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>project_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>project_role_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
                <field>
                    <name>contact_id</name>
                    <type>integer</type>
					<notnull>true</notnull>
                </field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fp_appropriation</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
                <field>
                    <name>project_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>order_id</name>
                    <type>integer</type>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
				<field>
					<name>appropriation_nr</name>
					<type>text</type>
					<length>16</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
                    <name>funds_category_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>funds_kind_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
                <field>
                    <name>name</name>
                    <type>text</type>
					<length>256</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>debit_position_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>decision_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
					<field>
                    <name>decision_committee</name>
                    <type>enum</type>
					<value>EXECUTIVE</value>
					<value>MANAGEMENT</value>
					<value>ADVISER</value>
					<value>CIRCULATION</value>
					<value>VS</value>
					<value>NOVALUE</value>
					<default>EXECUTIVE</default>
					<notnull>true</notnull>
                </field>
				<field>
                    <name>state</name>
                    <type>enum</type>
					<value>SUBMITTED</value>
					<value>ALLOTED</value>
					<value>REJECTED</value>
					<value>REASSIGNED</value>
					<default>SUBMITTED</default>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>proposal_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>payout_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>confirmed_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>rest_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<notnull>true</notnull>
					<default>0</default>
                </field>
				<field>
                    <name>approval_draft_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
                <field>
                    <name>comment</name>
                    <type>text</type>
					<notnull>false</notnull>
                </field>
				<field>
                    <name>created_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>
                <field>
                    <name>creation_time</name>
                    <type>datetime</type>
                </field> 
                <field>
                    <name>last_modified_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>
                <field>
                    <name>last_modified_time</name>
                    <type>datetime</type>
                </field>
                <field>
                    <name>is_deleted</name>
                    <type>boolean</type>
                    <default>false</default>
                </field>
                <field>
                    <name>deleted_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>            
                <field>
                    <name>deleted_time</name>
                    <type>datetime</type>
                </field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fp_appropriation_change</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
                <field>
                    <name>appropriation_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>receipt_id</name>
                    <type>integer</type>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
				<field>
                    <name>change_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				
				<field>
                    <name>change_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<default>0</default>
					<notnull>true</notnull>
                </field>
				
				<field>
                    <name>change_claim_amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<default>0</default>
					<notnull>true</notnull>
                </field>
				
				
				<field>
                    <name>is_state_change</name>
                    <type>boolean</type>
                    <default>false</default>
                </field>
				<field>
                    <name>is_amount_change</name>
                    <type>boolean</type>
                    <default>false</default>
                </field>
				<field>
                    <name>is_rebooking</name>
                    <type>boolean</type>
                    <default>false</default>
                </field>
				
				<field>
                    <name>rebooking_kind</name>
                    <type>enum</type>
					<value>NOVALUE</value>
					<value>CANCELLATION</value>
					<value>APPROVALREVOCATION</value>
					<value>REALLOCATION</value>
					<default>NOVALUE</default>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>state</name>
                    <type>enum</type>
					<value>SUBMITTED</value>
					<value>ALLOTED</value>
					<value>REJECTED</value>
					<value>REASSIGNED</value>
					<default>SUBMITTED</default>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>comment</name>
                    <type>text</type>
					<notnull>false</notnull>
                </field>
				<field>
                    <name>created_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>
                <field>
                    <name>creation_time</name>
                    <type>datetime</type>
                </field> 
                <field>
                    <name>last_modified_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>
                <field>
                    <name>last_modified_time</name>
                    <type>datetime</type>
                </field>
                <field>
                    <name>is_deleted</name>
                    <type>boolean</type>
                    <default>false</default>
                </field>
                <field>
                    <name>deleted_by</name>
                    <type>text</type>
                    <length>40</length>
                </field>            
                <field>
                    <name>deleted_time</name>
                    <type>datetime</type>
                </field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fp_appropriation_payout</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
                <field>
                    <name>appropriation_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>payout_query_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>approval_payout_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>payout_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
                    <name>booking_payout_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
	                <name>approval_payout_query</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
                    <name>approval_user_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
				<field>
                    <name>amount</name>
                    <type>float</type>
					<unsigned>false</unsigned>
					<default>0</default>
					<notnull>true</notnull>
                </field>
				<field>
                    <name>payout_status</name>
                    <type>enum</type>
					<value>QUERY</value>
					<value>PAYMENT</value>
					<default>QUERY</default>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>payout_type</name>
                    <type>enum</type>
					<value>PAYOUT</value>
					<value>PAYIN</value>
					<default>PAYOUT</default>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>booking_text</name>
                    <type>text</type>
					<notnull>false</notnull>
                </field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
    </tables>
	<defaultRecords>
		
		<!-- numberbase entries -->
		<record>
			<table>
				<name>number_base</name>
			</table>
			<field>
				<name>key</name>
				<value>fp_project_nr</value>
			</field>
			<field>
				<name>formula</name>
				<value>N1</value>
			</field>
			<field>
				<name>number1</name>
				<value>0</value>
			</field>
			<field>
				<name>number2</name>
				<value>0</value>
			</field>
			<field>
				<name>number3</name>
				<value>0</value>
			</field>
			<field>
				<name>last_generated</name>
				<value>0</value>
			</field>			
		</record>
		<record>
			<table>
				<name>number_base</name>
			</table>
			<field>
				<name>key</name>
				<value>fp_appropriation_nr</value>
			</field>
			<field>
				<name>formula</name>
				<value>N1</value>
			</field>
			<field>
				<name>number1</name>
				<value>0</value>
			</field>
			<field>
				<name>number2</name>
				<value>0</value>
			</field>
			<field>
				<name>number3</name>
				<value>0</value>
			</field>
			<field>
				<name>last_generated</name>
				<value>0</value>
			</field>			
		</record>
		
	</defaultRecords>
</application>
	
